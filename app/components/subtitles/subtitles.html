<div layout="column">
    <div layout="row">
        <!--         <section flex="20" layout="column" class="subtitles-movies">
            <md-toolbar class="vrt-toolbar">
                <div class="md-toolbar-tools">
                    <h2>Filmpjes</h2>
                </div>
            </md-toolbar>
            <div class="subtitles-dialog__inside">
                <div layout="column" layout-align="start center" layout-wrap>
                    <md-button class="md-raised" aria-label="filmpje starten" ng-click="vm.createMovie()">
                        Start nieuw filmpje
                    </md-button>
                    <div ng-repeat="(key, m) in vm.movies" layout-padding layout="row" style="width:100%;" layout-align="space-between center" ng-click="vm.openMovie(m.$id)">
                        {{m.$id}}
                        <md-input-container>
                            <i style="padding-top:8px;" ng-click="vm.movies.$remove(m)" class="material-icons grid-iconbutton">&#xE14C;</i>
                        </md-input-container>
                    </div>
                </div>
            </md-dialog-content>
        </section> -->
        <section ng-hide="vm.movieId == ''" flex="20" layout="column">
            <div>
                <md-button class="md-raised" aria-label="Project openen / starten" ng-click="vm.openProjects()">
                    Open project / Start nieuw
                </md-button>
            </div>
            <div ng-repeat="(key, c) in vm.clips | orderBy: 'start'" ng-if="c.$id != 'meta'" ng-click="vm.selectSub(c.$id, c.start, c.end); vm.goToTime(c.start);">
                {{c.start}} - {{c.text}}
            </div>
            <md-button ng-if="vm.meta.movieUrl" class="md-raised" aria-label="Clip toevoegen" ng-click="vm.addSubtitle(vm.selectedSub.start, vm.selectedSub.end, vm.meta.movieDuration)">
                Voeg ondertitel toe
            </md-button>
        </section>
        <section flex ng-if="vm.movieActive == true" class="subtitles-movie" layout="column" flex="50">
            <div class="uploadFile" ng-model="vm.subtitle.video" ngf-accept="'video/mp4, video/quicktime'" ngf-select="vm.upload($file)" type="file">
                Filmpje opladen
            </div>
            <div class="subtitles-video">
                <div class="videowrapper">
                    <vrt-videoplayer source="vm.meta.movieUrl" start="vm.selectedSub.start" end="vm.selectedSub.end" update-time="vm.updateTime($currentTime, $duration)"></vrt-videoplayer>
                    <div class="subtitles-preview__line" ng-repeat="(key, c) in vm.clips" ng-if="(vm.videogular.api.currentTime/1000) >= c.start && (vm.videogular.api.currentTime/1000) <= (c.start + c.end) && key != 'meta'">
                        <p id="subtitlePreview">{{c.text}}</p>
                    </div>
                </div>
            </div>
            <div ng-if="vm.meta.movieUrl == ''">No video</div>
            <div ng-if="vm.uploading">Uploading</div>
            <div ng-if="vm.meta.movieUrl != ''">
                <div layout-padding>
                    <div ng-repeat="(key, c) in vm.clips" ng-if="c.$id == vm.selectedSub.id">
                        <div>
                            <md-input-container flex="36">
                                <label>Ondertitel text</label>
                                <textarea vrt-maxlines="2" maxlines-prevent-enter="true" id="subtitleText" name="title" ng-model="c.text" ng-change="vm.clips.$save(c)"></textarea>
                            </md-input-container>
                            <br/>
                            <md-button class="md-primary md-raised" ng-click="vm.clips.$remove(c)" ng-disabled="c.length <= 1">Verwijder Clip</md-button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section ng-hide="vm.movieId == '' || vm.meta.movieUrl == null" flex="30" layout="column" layout="column">
            <md-input-container>
                <label>Kies een audiotrack</label>
                <md-select ng-model="vm.meta.audio" ng-change="vm.setAudio(vm.meta.audio)">
                    <md-option ng-repeat="(key, a) in vm.audioTracks" value="{{a.id}}">
                        {{a.name}}
                    </md-option>
                </md-select>
            </md-input-container>
            {{vm.audioTrackUrl}}
            <vrt-audioplayer source="vm.audioTrackUrl"></vrt-audioplayer>
            {{vm.meta}}
            <md-button class="md-raised" aria-label="Film maken" ng-click="vm.renderSubtitles(vm.clips)">
                Maak filmpje
            </md-button>
            <md-input-container>
                <label>Kies een logo</label>
                <md-select ng-model="vm.logo" ng-change="vm.setLogo(vm.meta.logo)">
                    <md-option ng-repeat="(key, l) in vm.logos" value="{{l.id}}">
                        {{l.name}}
                    </md-option>
                </md-select>
            </md-input-container>
            <img src="{{vm.logoUrl}}">
        </section>
    </div>
    <div ng-if="vm.meta.movieUrl != ''">
        <div layout-padding>
            <div>
                PLAY
            </div>
            <div ng-repeat="(key, c) in vm.clips" ng-if="c.$id == vm.selectedSub.id">
                <div>
                    <rzslider rz-slider-model="vm.currentTime" rz-slider-options="vm.timeSlider.options"></rzslider>
                    <div class="clipSlider">
                        <rzslider rz-slider-model="c.start" rz-slider-high="c.end" rz-slider-options="vm.clipSlider.options"></rzslider>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
